{\rtf1\ansi\ansicpg1252\cocoartf2818
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\froman\fcharset0 Times-Roman;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww12720\viewh7800\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 \'97 Top-5 products by avg rating (min 50 reviews)\
db.product_metrics.find(\
  \{ review_count: \{ $gte: 50 \} \},\
  \{ _id: 1, avg_star_rating: 1, review_count: 1 \}\
).sort(\{ avg_star_rating: -1 \}).limit(5).toArray()\
\
\'97 Count customers with >10 verified reviews\
db.customer_review_counts.countDocuments(\{ verified_review_count: \{ $gt: 10 \} \})\
\
\'97 Average reviews per product\
db.product_metrics.aggregate([\
  \{ $group: \{ _id: null, avg_reviews_per_product: \{ $avg: "$review_count" \} \} \}\
]).toArray()\
\
\'97 Reviews trend by year\
db.product_monthly_reviews.aggregate([\
  \{ $group: \{ _id: "$year", total_reviews: \{ $sum: "$monthly_review_count" \} \} \},\
  \{ $sort: \{ _id: 1 \} \}\
]).toArray()\
\
\'97 Top-3 months with highest review counts\
db.product_monthly_reviews.aggregate([\
  \{ $group: \{ _id: \{ year: "$year", month: "$month" \}, total_reviews: \{ $sum: "$monthly_review_count" \} \} \},\
  \{ $sort: \{ total_reviews: -1 \} \},\
  \{ $limit: 3 \}\
]).toArray()\
}